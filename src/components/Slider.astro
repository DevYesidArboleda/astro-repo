---
import img from "../assets/flecha_slider.svg";
export interface Props {
	//href: string;
    //text: string;
    items:any[];    
}

const {items} = Astro.props;
---


<section class="sliderContainer">
    <!-- <div class="sliderContainer">
        <img src={img} class="slider_arrow" alt="">
        <section class="sliderBody sliderBody_show">
            <div class="slider_text">
                <p>{}</p>
            </div>
            <figure class="slider_picture">
                <img src={} alt="">
            </figure>
        </section>
        <img src={img} class="slider_arrow_rigth"  alt="">
    </div> -->
    <!-- <div class="flex absolute left-2 items-center content-center">
        <img src={img} class="slider_arrow flex justify-start" alt="">
    </div> 
    {items.map((item)=>{
        return(       
        <section class="sliderBody sliderBody_show">
            <figure class="slider_picture">
                <img src={item.href} alt="">
                <div class=" absolute left-0  h-full w-full top-0 z-10">
                
                    <button class="next z-20">
                        <img src={img}  class="slider_arrow flex justify-start" alt=""></button>
                    <img src={img} class="slider_arrow_right"  alt="">
                </div>
                <div class="slider_text">
                    
                </div>
            </figure>
        </section>
        )
    }
    )}-->

    <section class="reviews-wrapper ">
  <h2 class="sr-only">Reviews</h2>
  <div class="reviews-container container-xs">
    <button class="review-btn  review-btn--prev ml-5" id="prev" aria-label="Previous Review">
        <img src={img}  width="20">
    </button>
    <div class="reviews flex w-full">
      {
        items.slice(items.length - 1).map((review) => (
          <div class="review  w-full h-full flex">
            <img src={review.href} alt={review.name} class="review-avatar">
            <p class="review-content absolute flex w-full h-full justify-center items-center">{review.text}</p>
            <div class="absolute flex w-full h-full justify-center items-center">
              {review.boton ? <a href={review.boton} class="bg-red-700 rounded-sm p-2">Descubrelo aqui</a>:""}
            </div>
            <p class="review-name text-gradient h3">{review.name}</p>
          </div>
        ))
      }
      {
        items.map((review) => (
          <div class="review w-full h-full flex">
            <img src={review.href} alt={review.name} class="review-avatar">
            <p class="review-content absolute flex w-full h-full justify-center items-center">{review.text}</p>
            <div class="absolute flex w-full h-full justify-center items-center">
              {review.boton ? <a href={review.boton} class="bg-red-700 rounded-sm p-2">Descubrelo aqui</a>:""}
            </div>
            <p class="review-name text-gradient h3">{review.name}</p>
          </div>
        ))
      }
      {
        items.slice(0,1).map((review) => (
          <div class="review w-full h-full flex">
            <img src={review.href} alt={review.name} class="review-avatar">
            <p class="review-content absolute flex w-full h-full justify-center items-center">{review.text}</p>
            <div class="absolute flex w-full h-full justify-center items-center">
              {review.boton ? <a href={review.boton} class="bg-red-700 rounded-sm p-2">Descubrelo aqui</a>:""}
            </div>
            <p class="review-name text-gradient h3">{review.name}</p>
          </div>
        ))
      }
    </div>
    <div class="indicator-container">
      {
        items.map((review) => (
          <button class="indicator ${review?.active && 'active'}"></button>
        ))
      }
    </div>
    <button class="review-btn  review-btn--next mr-5" id="next" aria-label="Next Review">
        <img src={img}  width="20" alt="">
    </button>
  </div>
</section>

</section>

<style>

    .sliderContainer{
        width: 100%;
        
    }

    .sliderBody{
        
    }

    .sliderBody_show{
        opacity: 1;
        pointer-events: unset;
    }

    .slider_picture{
        widows: 100%;
    }

    .slider_text{
        position: absolute;
        display: flex;
        height: 100%;
        top: 0;
        width: 100%;
        align-items: center;
        justify-content: left;
        
    }

    /* REVIEWS */
.reviews-wrapper {
  background-color: hsl(var(--bkg));
  margin: 0 calc(var(--size-fluid-2) * -1);
}

.reviews-wrapper::after,
.reviews-wrapper::before {
  inset-inline: 20%;
}

.reviews-container {
  overflow: hidden;
  position: relative;
  width: calc(100vw - var(--size-fluid-2));
  background-color: hsl(var(--bkg));
}

.reviews {
  display: flex;
  margin: var(--size-fluid-4) 0 var(--size-fluid-5);
  text-align: center;
  transform: translateX(-100%);
  transition: transform 300ms ease-in-out;
}

.review {
  flex: 1 0 100%;
}

.review-avatar {
  max-width: var(--size-fluid-5);
  //border-radius: 50%;
}

.review-content {
  max-width: 60%;
  font-size: 30px;
  line-height: 1;
  margin: 1rem ;
  color: white;
}

.review-btn {
  position: absolute;
  z-index: 10;
  top: 0;
  bottom: 0;
  background: none;
  border: none;
  background-color: hsl(var(--bkg));
  color: hsl(var(--muted));
  padding: var(--size-1);
  width: var(--size-fluid-4);
  cursor: pointer;
  transition: all 300ms var(--ease-squish-2);
}

.review-btn--prev {
  left: 0;
  transform: rotate(180deg);
}

.review-btn--prev:is(:hover, :focus) {
  left: calc(var(--size-1) * -1);
  color: hsl(var(--text));
}
.review-btn--next {
  right: 0;
}

.review-btn--next:is(:hover, :focus) {  
  color: hsl(var(--text));
}

.indicator-container {
  position: absolute;
  left: 50%;
  bottom: var(--size-5);
  display: flex;
  justify-content: center;
  gap: var(--size-3);
  transform: translateX(-50%);
  gap: 10px;
  margin-top: -50px;
}

.indicator {
  background: white;
  border: 0.15em solid hsl(var(--text-alt));
  border-radius: 50%;
  padding: 0.3rem;
  height: var(--size-fluid-1);
  cursor: pointer;
  opacity: 0.3;
}

.indicator.active {
  background: white;

}

</style>

<script src="../js/slider.js" ></script>
